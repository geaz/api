include(ExternalProject)

set(ixWebsocket_INCLUDE_DIR "${CMAKE_BINARY_DIR}/libs/ixwebsocket/include/")
set(ixWebsocket_LIBRARY_DIR "${CMAKE_BINARY_DIR}/libs/ixwebsocket/lib/")

EXTERNALPROJECT_ADD(
    ext_ixws
    GIT_REPOSITORY https://github.com/machinezone/IXWebSocket.git
    GIT_TAG ffde283a4b999adb611a4cf22e4347b9dba28785
    CMAKE_ARGS 
        "-DCMAKE_INSTALL_PREFIX=${CMAKE_BINARY_DIR}/libs/ixwebsocket"
        "-DZLIB_LIBRARY=${zLib_LIBRARY_DIR}"
        "-DZLIB_INCLUDE_DIR=${zLib_INCLUDE_DIR}"
    DEPENDS ext_zLib
)

include_directories(${ixWebsocket_INCLUDE_DIR})
link_directories(${ixWebsocket_LIBRARY_DIR})